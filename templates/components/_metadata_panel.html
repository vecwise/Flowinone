<!-- templates/components/_metadata_panel.html -->
<div class="metadata-panel" style="padding: 1em; border-bottom: 1px solid #ddd; margin-bottom: 20px;">
  <h2>ğŸ“ {{ metadata.name }}</h2>

  <p>
    <strong>ğŸ“‚ åˆ†é¡ï¼š</strong> {{ metadata.category }}
  </p>

  {% if metadata.description %}
  <p>
    <strong>ğŸ“ èªªæ˜ï¼š</strong> {{ metadata.description }}
  </p>
  {% endif %}

  {% if metadata.tags %}
  <p>
    <strong>ğŸ·ï¸ æ¨™ç±¤ï¼š</strong>
    {% for tag in metadata.tags %}
      <a href="{{ url_for('view_images_by_tag', target_tag=tag) }}"
         class="badge badge-primary"
         style="margin-right: 5px; background-color: #007bff; color: white; padding: 0.3em 0.6em; border-radius: 0.5em; text-decoration: none;">
        {{ tag }}
      </a>
    {% endfor %}
  </p>
  {% endif %}

  {% if metadata.folders %}
  <p>
    <strong>ğŸ“ æ‰€åœ¨è³‡æ–™å¤¾ï¼š</strong>
    {% for folder in metadata.folders %}
      <a href="{{ folder.url }}"
         class="badge badge-secondary"
         style="margin-right: 5px; background-color: #6c757d; color: white; padding: 0.3em 0.6em; border-radius: 0.5em; text-decoration: none;">
        {{ folder.name }}
      </a>
      {% if not loop.last %}
        <span style="margin-right:5px; color:#999;">â€º</span>
      {% endif %}
    {% endfor %}
  </p>
  {% endif %}

  {% if metadata.filesystem_path %}
  <p>
    <strong>ğŸ—‚ï¸ æª”æ¡ˆä½ç½®ï¼š</strong>
    <code>{{ metadata.filesystem_path }}</code>
    <a href="{{ url_for('open_filesystem_path') }}?path={{ metadata.filesystem_path | urlencode }}"
       class="btn btn-sm"
       style="margin-left: 10px; background-color: #28a745; color: white; padding: 0.4em 0.8em; border-radius: 0.4em; text-decoration: none;">
      é–‹å•Ÿè³‡æ–™å¤¾
    </a>
  </p>
  {% endif %}

  {% if metadata.similar %}
  <p>
    <strong>ğŸ”— ç›¸ä¼¼ä½œå“ï¼š</strong>
    {% for similar in metadata.similar[:5] %}
      <a href="{{ similar.path }}"
         class="btn btn-sm"
         style="margin-right: 5px; background-color: #f0f0f0; padding: 0.4em 0.8em; border-radius: 0.4em; text-decoration: none;">
        {{ similar.name }}
      </a>
    {% endfor %}
  </p>
  {% endif %}
</div>
